function LightGal(a){this.opts={fade:true,fade_time:1e3,display_time:2e3,display_thumbs:false,main_width:400,main_height:300,thumb_width:165,thumb_height:110};for(opt in a){if(opt in this.opts){this.opts[opt]=a[opt]}}if(!this.opts.fade)this.opts.fade_time=0}LightGal.prototype.begin=function(a){if(document.getElementsByName("lg_style").length===0&&this.opts.fade){var b=document.createElement("style");b.setAttribute("name","lg_style");b.appendChild(document.createTextNode(".lg_hide{"));b.appendChild(document.createTextNode("transition: opacity "+this.opts.fade_time/2+"ms linear;"));b.appendChild(document.createTextNode("-webkit-transition: opacity "+this.opts.fade_time/2+"ms linear;"));b.appendChild(document.createTextNode("-moz-transition: opacity "+this.opts.fade_time/2+"ms linear;"));b.appendChild(document.createTextNode("-o-transition: opacity "+this.opts.fade_time/2+"ms linear;"));b.appendChild(document.createTextNode("}"));b.appendChild(document.createTextNode(".lg_hidden{"));b.appendChild(document.createTextNode("opacity: 0;"));b.appendChild(document.createTextNode("}"));var c=document.getElementsByTagName("head")[0];c.appendChild(b)}images=a.getElementsByTagName("img");this.srcs=[];for(i=0;i<images.length;i++){this.srcs.push(images[i].getAttribute("src"))}a.innerHTML="";this.curr_img=document.createElement("img");this.curr_img.setAttribute("src",this.srcs[0]);this.curr_img.setAttribute("width",this.opts.main_width);this.curr_img.setAttribute("height",this.opts.main_height);this.curr_img.className="lg_hide";a.appendChild(this.curr_img);if(this.opts.display_thumbs){for(i=0;i<this.srcs.length;i++){var d=document.createElement("img");d.setAttribute("width",this.opts.thumb_width);d.setAttribute("height",this.opts.thumb_height);d.setAttribute("src",this.srcs[i]);a.appendChild(d)}}this.transition()};LightGal.prototype.getNextSrc=function(){var a=this.srcs.indexOf(this.curr_img.getAttribute("src"));return a===this.srcs.length-1?0:a+1};LightGal.prototype.transition=function(){setInterval(function(){this.curr_img.className="lg_hide lg_hidden";setTimeout(function(){var a=this.srcs[this.getNextSrc()];this.curr_img.setAttribute("src",a);this.curr_img.className="lg_hide"}.bind(this),this.opts.fade_time)}.bind(this),this.opts.display_time+this.opts.fade_time*2)}